<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="This is a portfolio website for Piyush Talegaonkar, an engineering graduate from Pune Institute of Computer Technology (PICT) and a full stack developer.">
    <link rel="canonical" href="https://pmtal3122.github.io/portfolio">
    <title>Piyush Talegaonkar</title>

    <link rel="stylesheet" href="./styles/styles.css">
    <link rel="stylesheet" href="./styles/contact.css">
    <link rel="stylesheet" href="./styles/workExp.css">
    <link rel="stylesheet" href="./styles/projects.css">
    <link rel="stylesheet" href="./styles/skills.css">

    <script src="https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/ScrollTrigger.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/ScrollToPlugin.min.js"></script>

    <script src="https://smtpjs.com/v3/smtp.js"></script>

    <script type="importmap">
        {
          "imports": {
            "three": "https://cdn.jsdelivr.net/npm/three@0.177.0/build/three.module.js",
            "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.177.0/examples/jsm/"
          }
        }
        </script>
    <script src="https://unpkg.com/lenis@1.3.4/dist/lenis.min.js"></script>

    <style>
        h2 {
            font-size: 2.5rem;
            color: #a0a0a0;
            margin: 0;
        }
    </style>
</head>

<body>
    <div class="container"></div>

    <div class="sec" id="landing">
        <h2>Landing</h2>
    </div>
    <div class="bufferBlock"></div>
    <div class="sec" id="workEx">
        <h2>Work Experience</h2>
    </div>
    <div class="bufferBlock"></div>
    <div class="sec" id="projects">
        <h2>Projects</h2>
    </div>
    <div class="bufferBlock"></div>
    <div class="sec" id="skills">
        <h2>My Skills</h2>
        <div class="skillsContainer"></div>
    </div>
    <div class="bufferBlock"></div>
    <div class="sec" id="contact">
        <div class="contactContainer">
            <h2>Contact Me</h2>
            <form id="contactForm">
                <p>If you have any questions or would like to get in touch, feel free to reach out!</p>
                <input type="text" name="name" placeholder="Your Name" required>
                <input type="text" name="number" placeholder="Your number" required>
                <input type="email" name="email" placeholder="Your Email" required>
                <textarea name="message" placeholder="Your Message" required></textarea>
                <div id="formButton">
                    <button type="submit" onclick="(e) => submitForm(e)">Send Message</button>
                </div>
            </form>
        </div>
    </div>

    <script type="module" src="./index.js"></script>
    <script src="./utils/getWorkEx.js"></script>
    <script>

        // On load, ping the server
        fetch('https://send-mail-portfolio.onrender.com/ping')
            .then(response => {
                if (response.ok) {
                    console.log('Server is up and running');
                } else {
                    console.error('Failed to ping server');
                }
            })
            .catch(error => console.error('Error:', error));

        function submitForm(e) {
            e.preventDefault();
            e.stopPropagation();
            const form = document.getElementById('contactForm');
            const name = form.name.value;
            const number = form.number.value;
            const email = form.email.value;
            const message = form.message.value;
            fetch('https://send-mail-portfolio.onrender.com/sendMail', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    name: name,
                    number: number,
                    email: email,
                    message: message
                })
            })
                .then(response => {
                    if (response.ok) {
                        alert('Message sent successfully!');
                        form.reset();
                    } else {
                        alert('Failed to send message. Please try again later.');
                    }
                })
        }
        document.getElementById('contactForm').addEventListener('submit', submitForm);
    </script>
</body>

</html>